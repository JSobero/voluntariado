import{d as s}from"./chunk-MTNAIJ3P.js";import{N as t,R as o,ea as n}from"./chunk-G3BCAZWB.js";var i=class e{constructor(r){this.router=r;this.cargarUsuarioDesdeStorage()}currentUser=n(null);cargarUsuarioDesdeStorage(){if(typeof localStorage<"u"){let r=localStorage.getItem("currentUser");r&&this.currentUser.set(JSON.parse(r))}}login(r){localStorage.setItem("currentUser",JSON.stringify(r)),this.currentUser.set(r),r.rol.nombre==="ADMIN"||r.rol.nombre==="ORGANIZADOR"?this.router.navigate(["/admin/dashboard"]):this.router.navigate(["/"])}logout(){localStorage.removeItem("currentUser"),this.currentUser.set(null),this.router.navigate(["/"])}logoutConConfirmacion(){confirm("\xBFEst\xE1s seguro de que deseas cerrar sesi\xF3n?")&&(localStorage.removeItem("currentUser"),this.currentUser.set(null),this.router.navigate(["/"]),console.log("Sesi\xF3n cerrada exitosamente"))}static \u0275fac=function(a){return new(a||e)(o(s))};static \u0275prov=t({token:e,factory:e.\u0275fac,providedIn:"root"})};export{i as a};
