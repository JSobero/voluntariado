import{a as $}from"./chunk-J6ZPOG5A.js";import{a as U}from"./chunk-YCCDCEVG.js";import{b as j,c as D,d as N,e as R,f as V,h as G}from"./chunk-MTNAIJ3P.js";import{Aa as h,Cb as I,Ga as P,La as m,Rb as E,Sb as L,Tb as z,Ub as T,Wa as s,X as _,Xa as n,Xb as F,Y as x,Ya as t,Za as a,ab as w,bb as p,cb as g,ib as v,kb as l,lb as u,q as C,sa as M,sb as y,tb as k,va as o,vb as S,wb as A,x as O}from"./chunk-G3BCAZWB.js";var Y=r=>({"sidebar-collapsed":r}),H=()=>({exact:!1});function K(r,d){r&1&&(n(0,"span",41),l(1,"NEXO V"),t())}function X(r,d){if(r&1&&(n(0,"span",44),l(1),t()),r&2){let c=g().$implicit;o(),u(c.label)}}function q(r,d){if(r&1&&(n(0,"a",42),a(1,"i",43),m(2,X,2,1,"span",13),t()),r&2){let c=d.$implicit,e=g();s("routerLink",c.route)("routerLinkActiveOptions",y(5,H))("title",e.sidebarOpen?"":c.label),o(),s("ngClass",c.icon),o(),s("ngIf",e.sidebarOpen)}}function J(r,d){r&1&&(n(0,"span",44),l(1,"Configuraci\xF3n"),t())}function Q(r,d){r&1&&(n(0,"span",44),l(1,"Cerrar Sesi\xF3n"),t())}function W(r,d){if(r&1){let c=w();n(0,"div",45)(1,"a",46),p("click",function(){_(c);let i=g();return x(i.irAPerfil())}),a(2,"i",47),l(3," Mi Perfil "),t(),n(4,"a",46),p("click",function(){_(c);let i=g();return x(i.irAConfiguracion())}),a(5,"i",48),l(6," Configuraci\xF3n "),t(),a(7,"div",49),n(8,"a",50),p("click",function(){_(c);let i=g();return x(i.cerrarSesion())}),a(9,"i",51),l(10," Cerrar Sesi\xF3n "),t()()}}var B=class r{constructor(d,c,e){this.router=d;this.authService=c;this.themeService=e;this.isDarkMode$=this.themeService.isDark$,this.router.events.pipe(O(i=>i instanceof j),C(()=>{let i=this.router.url,f=this.menuItems.find(b=>b.route===i);return f?f.title:"Dashboard"})).subscribe(i=>{this.pageTitle=i,this.breadcrumb=i})}sidebarOpen=!0;userMenuOpen=!1;pageTitle="Dashboard";breadcrumb="Dashboard";isDarkMode$;usuarioActual=I(()=>this.authService.currentUser());menuItems=[{route:"/admin/dashboard",label:"Dashboard",icon:"bi bi-speedometer2",title:"Dashboard"},{route:"/admin/usuarios",label:"Usuarios",icon:"bi bi-people-fill",title:"Gesti\xF3n de Usuarios"},{route:"/admin/eventos",label:"Eventos",icon:"bi bi-calendar-event",title:"Gesti\xF3n de Eventos"},{route:"/admin/inscripciones",label:"Inscripciones",icon:"bi bi-clipboard-check",title:"Gesti\xF3n de Inscripciones"},{route:"/admin/asistencias",label:"Asistencias",icon:"bi bi-patch-check-fill",title:"Gesti\xF3n de Asistencias"},{route:"/admin/recompensas",label:"Recompensas",icon:"bi bi-gift-fill",title:"Gesti\xF3n de Recompensas"},{route:"/admin/canjes",label:"Canjes",icon:"bi bi-trophy-fill",title:"Gesti\xF3n de Canjes"},{route:"/admin/certificados",label:"Certificados",icon:"bi bi-patch-plus-fill",title:"Gesti\xF3n de Certificados"}];ngOnInit(){}toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}cerrarSesion(){this.authService.logoutConConfirmacion()}irAConfiguracion(){this.userMenuOpen=!1,this.router.navigate(["/admin/configuracion"])}irAPerfil(){this.userMenuOpen=!1,this.router.navigate(["/admin/perfil"])}static \u0275fac=function(c){return new(c||r)(h(N),h(U),h($))};static \u0275cmp=P({type:r,selectors:[["app-admin-layout"]],decls:54,vars:24,consts:[[1,"admin-layout"],[1,"sidebar",3,"ngClass"],[1,"sidebar-header"],[1,"logo"],["src","/logo.png","alt","Logo Nexo V",1,"logo-icon"],["class","logo-text",4,"ngIf"],[1,"toggle-btn",3,"click","title"],[1,"toggle-icon"],[1,"sidebar-nav"],["routerLinkActive","active","class","nav-item",3,"routerLink","routerLinkActiveOptions","title",4,"ngFor","ngForOf"],[1,"sidebar-footer"],[1,"footer-btn",3,"click","title"],[1,"nav-icon","bi","bi-gear-fill"],["class","nav-label",4,"ngIf"],[1,"footer-btn","logout",3,"click","title"],[1,"nav-icon","bi","bi-box-arrow-right"],[1,"main-content"],[1,"top-header"],[1,"header-left"],[1,"mobile-menu-btn",3,"click"],[1,"bi","bi-list"],[1,"page-context"],[1,"page-title"],[1,"breadcrumbs"],[1,"bi","bi-chevron-right"],[1,"header-right"],[1,"search-box"],[1,"search-icon","bi","bi-search"],["type","text","placeholder","Buscar...",1,"search-input"],[1,"search-shortcut"],["title","Notificaciones",1,"icon-btn","notification-btn"],[1,"bi","bi-bell-fill"],[1,"badge"],[1,"user-menu",3,"click"],[1,"user-avatar",3,"src","alt"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"bi","bi-chevron-down","dropdown-arrow"],["class","user-dropdown",4,"ngIf"],[1,"content-container"],[1,"logo-text"],["routerLinkActive","active",1,"nav-item",3,"routerLink","routerLinkActiveOptions","title"],[1,"nav-icon",3,"ngClass"],[1,"nav-label"],[1,"user-dropdown"],[1,"dropdown-item",3,"click"],[1,"bi","bi-person-circle"],[1,"bi","bi-gear-fill"],[1,"dropdown-divider"],[1,"dropdown-item","logout",3,"click"],[1,"bi","bi-box-arrow-right"]],template:function(c,e){if(c&1&&(n(0,"div",0),S(1,"async"),n(2,"aside",1)(3,"div",2)(4,"div",3),a(5,"img",4),m(6,K,2,0,"span",5),t(),n(7,"button",6),p("click",function(){return e.toggleSidebar()}),n(8,"span",7),l(9),t()()(),n(10,"nav",8),m(11,q,3,6,"a",9),t(),n(12,"div",10)(13,"button",11),p("click",function(){return e.irAConfiguracion()}),a(14,"i",12),m(15,J,2,0,"span",13),t(),n(16,"button",14),p("click",function(){return e.cerrarSesion()}),a(17,"i",15),m(18,Q,2,0,"span",13),t()()(),n(19,"div",16)(20,"header",17)(21,"div",18)(22,"button",19),p("click",function(){return e.toggleSidebar()}),a(23,"i",20),t(),n(24,"div",21)(25,"h2",22),l(26),t(),n(27,"nav",23)(28,"a"),l(29,"Admin"),t(),a(30,"i",24),n(31,"span"),l(32),t()()()(),n(33,"div",25)(34,"div",26),a(35,"i",27)(36,"input",28),n(37,"span",29),l(38,"Ctrl+K"),t()(),n(39,"button",30),a(40,"i",31),n(41,"span",32),l(42,"3"),t()(),n(43,"div",33),p("click",function(){return e.userMenuOpen=!e.userMenuOpen}),a(44,"img",34),n(45,"div",35)(46,"span",36),l(47),t(),n(48,"span",37),l(49),t()(),a(50,"i",38),m(51,W,11,0,"div",39),t()()(),n(52,"main",40),a(53,"router-outlet"),t()()()),c&2){let i,f,b;v("dark-mode",A(1,20,e.isDarkMode$)),o(2),s("ngClass",k(22,Y,!e.sidebarOpen)),o(4),s("ngIf",e.sidebarOpen),o(),s("title",e.sidebarOpen?"Colapsar men\xFA":"Expandir men\xFA"),o(2),u(e.sidebarOpen?"\u25C0":"\u25B6"),o(2),s("ngForOf",e.menuItems),o(2),s("title",e.sidebarOpen?"":"Configuraci\xF3n"),o(2),s("ngIf",e.sidebarOpen),o(),s("title",e.sidebarOpen?"":"Cerrar Sesi\xF3n"),o(2),s("ngIf",e.sidebarOpen),o(8),u(e.pageTitle),o(6),u(e.breadcrumb),o(11),v("active",e.userMenuOpen),o(),s("src","https://i.pravatar.cc/40?img=1",M)("alt",(i=e.usuarioActual())==null?null:i.nombre),o(3),u(((f=e.usuarioActual())==null?null:f.nombre)||"Admin"),o(2),u(((b=e.usuarioActual())==null||b.rol==null?null:b.rol.nombre)||"Administrador"),o(2),s("ngIf",e.userMenuOpen)}},dependencies:[F,E,L,z,G,D,R,V,T],styles:['.admin-layout[_ngcontent-%COMP%]{display:flex;height:100vh;overflow:hidden;background:#f8fafc;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.sidebar[_ngcontent-%COMP%]{width:280px;background:linear-gradient(180deg,#4c1d95,#3730a3);color:#e0e7ff;display:flex;flex-direction:column;transition:width .3s cubic-bezier(.4,.2,1);box-shadow:2px 0 10px #0000001a;position:relative;z-index:100}.sidebar-collapsed[_ngcontent-%COMP%]{width:80px}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem 1rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(224,231,255,.1);min-height:70px}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-weight:700;font-size:1.25rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain;flex-shrink:0;background:#fff;border-radius:8px;padding:4px;box-sizing:border-box}.logo-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden}.toggle-btn[_ngcontent-%COMP%]{background:#e0e7ff1a;border:none;color:#e0e7ff;width:32px;height:32px;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}.toggle-btn[_ngcontent-%COMP%]:hover{background:#e0e7ff33;transform:scale(1.05)}.toggle-icon[_ngcontent-%COMP%]{font-size:.875rem}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem .75rem;overflow-y:auto;scrollbar-width:thin;scrollbar-color:rgba(224,231,255,.2) transparent}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e0e7ff33;border-radius:3px}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1rem;margin-bottom:.375rem;border-radius:10px;color:#e0e7ff;text-decoration:none;font-size:.9375rem;font-weight:500;transition:all .2s;cursor:pointer;position:relative;overflow:hidden}.nav-item[_ngcontent-%COMP%]:hover{background:#e0e7ff1a;color:#fff;transform:translate(4px)}.nav-item.active[_ngcontent-%COMP%]{background:#6d28d9;color:#fff;box-shadow:0 4px 12px #6d28d966}.nav-item.active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(180deg,#f97316,#facc15);border-radius:0 4px 4px 0}.nav-icon[_ngcontent-%COMP%]{font-size:1.25rem;flex-shrink:0;display:flex;align-items:center;justify-content:center;width:24px}.nav-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem .75rem;border-top:1px solid rgba(224,231,255,.1)}.footer-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:.75rem;padding:.875rem 1rem;margin-bottom:.5rem;border-radius:10px;background:transparent;border:none;color:#e0e7ff;font-size:.9375rem;font-weight:500;cursor:pointer;transition:all .2s}.footer-btn[_ngcontent-%COMP%]:hover{background:#e0e7ff1a;color:#fff}.footer-btn.logout[_ngcontent-%COMP%]:hover{background:#ef444433;color:#fca5a5}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.top-header[_ngcontent-%COMP%]{background:#fff;padding:0 2rem;height:70px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 1px 3px #00000014;position:relative;z-index:50}.header-left[_ngcontent-%COMP%], .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.mobile-menu-btn[_ngcontent-%COMP%]{display:none;background:none;border:none;font-size:1.5rem;cursor:pointer;padding:.5rem;color:#64748b}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin:0}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#f1f5f9;padding:.5rem 1rem;border-radius:10px;min-width:250px}.search-icon[_ngcontent-%COMP%]{color:#94a3b8;font-size:1rem}.search-input[_ngcontent-%COMP%]{border:none;background:transparent;outline:none;font-size:.875rem;width:100%;color:#1e293b}.search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.icon-btn[_ngcontent-%COMP%]{position:relative;background:#f1f5f9;border:none;width:40px;height:40px;border-radius:10px;cursor:pointer;font-size:1.25rem;display:flex;align-items:center;justify-content:center;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{background:#e2e8f0;transform:scale(1.05)}.badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background:linear-gradient(135deg,#f97316,#facc15);color:#fff;font-size:.625rem;font-weight:700;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid white}.user-menu[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem;background:#f1f5f9;border-radius:10px;cursor:pointer;transition:all .2s}.user-menu[_ngcontent-%COMP%]:hover{background:#e2e8f0}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:2px solid white;box-shadow:0 2px 8px #0000001a}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:.875rem}.content-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:2rem;background:#f8fafc}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{position:fixed;left:0;top:0;bottom:0;z-index:1000;transform:translate(-100%)}.sidebar[_ngcontent-%COMP%]:not(.sidebar-collapsed){transform:translate(0)}.mobile-menu-btn[_ngcontent-%COMP%]{display:block}.search-box[_ngcontent-%COMP%]{display:none}.top-header[_ngcontent-%COMP%]{padding:0 1rem}.content-container[_ngcontent-%COMP%]{padding:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.125rem}.user-name[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.header-right[_ngcontent-%COMP%]{gap:.5rem}.icon-btn[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}.page-context[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.breadcrumbs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.8125rem;color:#64748b;margin-top:4px}.breadcrumbs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6d28d9;text-decoration:none;font-weight:500}.breadcrumbs[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.search-box[_ngcontent-%COMP%]{position:relative;transition:all .3s ease}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding-right:60px;border:2px solid transparent}.search-box[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 0 3px #6d28d933;border-radius:12px}.search-shortcut[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background-color:#e2e8f0;color:#475569;font-size:.7rem;font-weight:600;padding:2px 6px;border-radius:4px;pointer-events:none}.notification-btn[_ngcontent-%COMP%]{position:relative}.user-menu[_ngcontent-%COMP%]{position:relative;cursor:pointer;display:flex;align-items:center;gap:.75rem;padding:.5rem;border-radius:10px;transition:background-color .2s;background:transparent;border:1px solid transparent}.user-menu[_ngcontent-%COMP%]:hover, .user-menu.active[_ngcontent-%COMP%]{background-color:#f8fafc;border-color:#e2e8f0}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;line-height:1.2}@media (max-width: 768px){.user-info[_ngcontent-%COMP%]{display:none}}.user-role[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.dropdown-arrow[_ngcontent-%COMP%]{transition:transform .2s ease;margin-left:.5rem;color:#64748b}.user-menu.active[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.user-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:0;background-color:#fff;border-radius:12px;box-shadow:0 10px 25px -5px #0000001a,0 8px 10px -6px #0000001a;width:220px;z-index:100;padding:.5rem;border:1px solid #e2e8f0;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;font-size:.875rem;color:#334155;text-decoration:none;border-radius:8px;transition:background-color .2s;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#64748b}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8fafc;color:#1e293b}.dropdown-item.logout[_ngcontent-%COMP%]{color:#ef4444}.dropdown-item.logout[_ngcontent-%COMP%]:hover{background-color:#fee2e2;color:#b91c1c}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background-color:#e2e8f0;margin:.5rem 0}']})};export{B as a};
