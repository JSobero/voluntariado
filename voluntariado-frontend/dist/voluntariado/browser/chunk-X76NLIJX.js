import{a as D}from"./chunk-NOYSVG4H.js";import{a as B}from"./chunk-3A7EVKQ6.js";import"./chunk-E5QAETHB.js";import{b as V,c as q,f as A,h as T,l as F,m as N,p as W}from"./chunk-TIHFKB6X.js";import"./chunk-3LARRLV4.js";import{Aa as P,Fb as E,Ga as R,La as _,Rb as I,Sb as z,Tb as j,Wa as m,X as g,Xa as n,Xb as L,Y as u,Ya as o,Za as l,a as k,ab as f,bb as v,c as y,cb as p,hb as O,ib as w,kb as c,lb as x,mb as b,ob as C,pb as h,qb as M,sa as S,va as r}from"./chunk-G3BCAZWB.js";function G(a,t){a&1&&(n(0,"div",17),l(1,"div",18),n(2,"p"),c(3,"Cargando recompensas..."),o()())}function Y(a,t){a&1&&l(0,"div",41)}function H(a,t){a&1&&(n(0,"div",42),l(1,"i",43),o())}function J(a,t){if(a&1){let e=f();n(0,"div",21)(1,"div",22),_(2,Y,1,0,"div",23)(3,H,2,0,"div",24),n(4,"div",25),l(5,"i",26),n(6,"span",27),c(7),o()()(),n(8,"div",28)(9,"h3",29),c(10),o(),n(11,"p",30),c(12),o()(),n(13,"div",31)(14,"div",32)(15,"span",33),c(16,"Stock:"),o(),n(17,"span",34),l(18,"span",35),c(19),o()(),n(20,"div",36)(21,"button",37),v("click",function(){let i=g(e).$implicit,d=p(2);return u(d.abrirModal(i))}),l(22,"i",38),o(),n(23,"button",39),v("click",function(){let i=g(e).$implicit,d=p(2);return u(d.eliminarRecompensa(i.id))}),l(24,"i",40),o()()()()}if(a&2){let e=t.$implicit,s=p(2);r(),O("background-image",e.imagenUrl?"url("+e.imagenUrl+")":null),w("con-imagen",e.imagenUrl),r(),m("ngIf",e.imagenUrl),r(),m("ngIf",!e.imagenUrl),r(4),x(e.puntosNecesarios),r(3),x(e.nombre),r(2),x(e.descripcion||"Sin descripci\xF3n"),r(5),m("ngClass",s.obtenerClaseStock(e.stock)),r(2),b(" ",e.stock," unidades ")}}function K(a,t){if(a&1&&(n(0,"div",19),_(1,J,25,11,"div",20),o()),a&2){let e=p();r(),m("ngForOf",e.recompensasFiltradas)}}function Q(a,t){if(a&1){let e=f();n(0,"div",44)(1,"div",45),l(2,"i",46),o(),n(3,"h3"),c(4,"No se encontraron recompensas"),o(),n(5,"p"),c(6,"Intenta con otros t\xE9rminos de b\xFAsqueda o crea una nueva recompensa"),o(),n(7,"button",7),v("click",function(){g(e);let i=p();return u(i.abrirModal())}),l(8,"i",8),c(9," Crear primera recompensa "),o()()}}function X(a,t){if(a&1){let e=f();n(0,"div",86),l(1,"img",87),n(2,"button",88),v("click",function(){g(e);let i=p(2);return u(i.limpiarImagen())}),l(3,"i",89),o()()}if(a&2){let e=p(2);r(),m("src",e.imagenPreview,S)}}function Z(a,t){if(a&1){let e=f();n(0,"div",90)(1,"input",91),v("change",function(i){g(e);let d=p(2);return u(d.onFileSelected(i))}),o(),n(2,"label",92),l(3,"i",93),n(4,"span",94),c(5,"Click para subir imagen"),o(),n(6,"span",95),c(7,"JPG, PNG, GIF, WEBP (m\xE1x. 5MB)"),o()()()}}function $(a,t){if(a&1&&(n(0,"div",96),l(1,"i",97),c(2),o()),a&2){let e=p(2);r(2),b(" ",e.errorImagen," ")}}function ee(a,t){a&1&&(n(0,"div",98),l(1,"div",99),n(2,"span"),c(3,"Subiendo imagen..."),o()())}function ne(a,t){a&1&&l(0,"div",100)}function te(a,t){a&1&&l(0,"i",101)}function oe(a,t){if(a&1){let e=f();n(0,"div",47),v("click",function(){g(e);let i=p();return u(i.cerrarModal())}),n(1,"div",48),v("click",function(i){return g(e),u(i.stopPropagation())}),n(2,"div",49)(3,"h2",50),l(4,"i",51),c(5),o(),n(6,"button",52),v("click",function(){g(e);let i=p();return u(i.cerrarModal())}),l(7,"i",53),o()(),n(8,"div",54)(9,"div",55)(10,"label",56)(11,"span",57),c(12,"Imagen de la Recompensa"),o()(),n(13,"div",58),_(14,X,4,1,"div",59)(15,Z,8,0,"div",60)(16,$,3,1,"div",61)(17,ee,4,0,"div",62),o()(),n(18,"div",55)(19,"label",56)(20,"span",57),c(21,"Nombre de la Recompensa"),o(),n(22,"span",63),c(23,"*"),o()(),n(24,"input",64),M("ngModelChange",function(i){g(e);let d=p();return h(d.recompensaActual.nombre,i)||(d.recompensaActual.nombre=i),u(i)}),o()(),n(25,"div",55)(26,"label",56)(27,"span",57),c(28,"Descripci\xF3n"),o()(),n(29,"textarea",65),M("ngModelChange",function(i){g(e);let d=p();return h(d.recompensaActual.descripcion,i)||(d.recompensaActual.descripcion=i),u(i)}),o()(),n(30,"div",66)(31,"div",55)(32,"label",56)(33,"span",57),c(34,"Puntos Necesarios"),o(),n(35,"span",63),c(36,"*"),o()(),n(37,"div",67),l(38,"i",68),n(39,"input",69),M("ngModelChange",function(i){g(e);let d=p();return h(d.recompensaActual.puntosNecesarios,i)||(d.recompensaActual.puntosNecesarios=i),u(i)}),o()()(),n(40,"div",55)(41,"label",56)(42,"span",57),c(43,"Stock Disponible"),o(),n(44,"span",63),c(45,"*"),o()(),n(46,"div",67),l(47,"i",70),n(48,"input",71),M("ngModelChange",function(i){g(e);let d=p();return h(d.recompensaActual.stock,i)||(d.recompensaActual.stock=i),u(i)}),o()()()(),n(49,"div",72)(50,"label",56)(51,"span",57),c(52,"Vista Previa"),o()(),n(53,"div",73),_(54,ne,1,0,"div",74),n(55,"div",75)(56,"div",76),_(57,te,1,0,"i",77),n(58,"span",78),l(59,"i",26),c(60),o()(),n(61,"h4",79),c(62),o(),n(63,"p",80),c(64),o(),n(65,"div",81),c(66),o()()()()(),n(67,"div",82)(68,"button",83),v("click",function(){g(e);let i=p();return u(i.cerrarModal())}),c(69," Cancelar "),o(),n(70,"button",84),v("click",function(){g(e);let i=p();return u(i.guardarRecompensa())}),l(71,"i",85),c(72),o()()()()}if(a&2){let e=p();r(4),m("ngClass",e.modoEdicion?"bi bi-pencil-fill":"bi bi-plus-lg"),r(),b(" ",e.modoEdicion?"Editar Recompensa":"Nueva Recompensa"," "),r(9),m("ngIf",e.imagenPreview),r(),m("ngIf",!e.imagenPreview),r(),m("ngIf",e.errorImagen),r(),m("ngIf",e.subiendoImagen),r(7),C("ngModel",e.recompensaActual.nombre),r(5),C("ngModel",e.recompensaActual.descripcion),r(10),C("ngModel",e.recompensaActual.puntosNecesarios),r(9),C("ngModel",e.recompensaActual.stock),r(5),O("background-image",e.imagenPreview?"url("+e.imagenPreview+")":null),w("con-imagen-preview",e.imagenPreview),r(),m("ngIf",e.imagenPreview),r(3),m("ngIf",!e.imagenPreview),r(3),b(" ",e.recompensaActual.puntosNecesarios||0," "),r(2),x(e.recompensaActual.nombre||"Nombre de la recompensa"),r(2),x(e.recompensaActual.descripcion||"Descripci\xF3n de la recompensa"),r(2),b(" Stock: ",e.recompensaActual.stock||0," unidades "),r(4),m("disabled",e.subiendoImagen),r(),m("ngClass",e.modoEdicion?"bi bi-save-fill":"bi bi-plus-lg"),r(),b(" ",e.modoEdicion?"Actualizar":"Crear"," Recompensa ")}}var U=class a{constructor(t,e,s){this.recompensaServicio=t;this.imageService=e;this.cdRef=s}recompensas=[];recompensasFiltradas=[];mostrarModal=!1;modoEdicion=!1;cargando=!1;terminoBusqueda="";recompensaActual=this.obtenerRecompensaVacia();imagenSeleccionada=null;imagenPreview=null;subiendoImagen=!1;errorImagen=null;ngOnInit(){this.cargarRecompensas()}cargarRecompensas(){this.cargando=!0,this.recompensaServicio.getAll().subscribe({next:t=>{this.recompensas=t,this.recompensasFiltradas=t,this.cargando=!1,this.cdRef.detectChanges()},error:()=>{this.cargando=!1,this.cdRef.detectChanges()}})}filtrarRecompensas(){let t=this.terminoBusqueda.toLowerCase().trim();if(!t){this.recompensasFiltradas=this.recompensas;return}this.recompensasFiltradas=this.recompensas.filter(e=>e.nombre.toLowerCase().includes(t)||e.descripcion.toLowerCase().includes(t))}onFileSelected(t){let e=t.target;if(e.files&&e.files[0]){let s=e.files[0],i=this.imageService.validateImage(s);if(!i.valid){this.errorImagen=i.error||"Imagen no v\xE1lida",this.imagenSeleccionada=null,this.imagenPreview=null,this.cdRef.detectChanges();return}this.errorImagen=null,this.imagenSeleccionada=s,this.imageService.getBase64Preview(s).then(d=>{this.imagenPreview=d,this.cdRef.detectChanges()})}}limpiarImagen(){this.imagenSeleccionada=null,this.imagenPreview=null,this.errorImagen=null,this.cdRef.detectChanges()}abrirModal(t){this.mostrarModal=!0,this.limpiarImagen(),t?(this.modoEdicion=!0,this.recompensaActual=k({},t),t.imagenUrl&&(this.imagenPreview=t.imagenUrl)):(this.modoEdicion=!1,this.recompensaActual=this.obtenerRecompensaVacia()),this.cdRef.detectChanges()}cerrarModal(){this.mostrarModal=!1,this.recompensaActual=this.obtenerRecompensaVacia()}guardarRecompensa(){return y(this,null,function*(){if(!this.recompensaActual.nombre||!this.recompensaActual.puntosNecesarios){alert("Por favor completa los campos requeridos");return}if(this.imagenSeleccionada){this.subiendoImagen=!0,this.cdRef.detectChanges();try{let t=yield this.imageService.uploadImage(this.imagenSeleccionada,"recompensas").toPromise();t&&t.url&&(this.recompensaActual.imagenUrl=t.url)}catch(t){console.error("Error al subir imagen:",t),alert("Error al subir la imagen. La recompensa se guardar\xE1 sin imagen nueva.")}finally{this.subiendoImagen=!1,this.cdRef.detectChanges()}}this.modoEdicion&&this.recompensaActual.id?this.recompensaServicio.update(this.recompensaActual.id,this.recompensaActual).subscribe({next:()=>{this.cargarRecompensas(),this.cerrarModal()},error:t=>{console.error("Error al actualizar:",t),alert("Error al actualizar la recompensa")}}):this.recompensaServicio.create(this.recompensaActual).subscribe({next:()=>{this.cargarRecompensas(),this.cerrarModal()},error:t=>{console.error("Error al crear:",t),alert("Error al crear la recompensa")}})})}eliminarRecompensa(t){confirm("\xBFEst\xE1s seguro de eliminar esta recompensa? Esta acci\xF3n no se puede deshacer.")&&this.recompensaServicio.delete(t).subscribe({next:()=>{this.cargarRecompensas()},error:e=>{console.error("Error al eliminar:",e),alert("Error al eliminar la recompensa")}})}obtenerClaseStock(t){return t===0?"stock-agotado":t<10?"stock-bajo":"stock-ok"}obtenerTextoStock(t){return t===0?"Agotado":t<10?"Stock bajo":"Disponible"}obtenerRecompensaVacia(){return{nombre:"",descripcion:"",puntosNecesarios:0,stock:0,imagenUrl:""}}static \u0275fac=function(e){return new(e||a)(P(B),P(D),P(E))};static \u0275cmp=R({type:a,selectors:[["app-recompensas-lista"]],decls:20,vars:5,consts:[[1,"contenedor-pagina"],[1,"encabezado-pagina"],[1,"encabezado-izquierda"],[1,"titulo-pagina"],[1,"icono-titulo","bi","bi-gift-fill"],[1,"subtitulo-pagina"],[1,"acciones-encabezado"],[1,"btn","btn-primario",3,"click"],[1,"btn-icono","bi","bi-plus-lg"],[1,"seccion-filtros"],[1,"contenedor-busqueda"],[1,"icono-busqueda","bi","bi-search"],["type","text","placeholder","Buscar recompensas por nombre o descripci\xF3n...",1,"input-busqueda",3,"ngModelChange","ngModel"],["class","contenedor-carga",4,"ngIf"],["class","cuadricula-recompensas",4,"ngIf"],["class","estado-vacio",4,"ngIf"],["class","superposicion-modal",3,"click",4,"ngIf"],[1,"contenedor-carga"],[1,"spinner"],[1,"cuadricula-recompensas"],["class","tarjeta-recompensa",4,"ngFor","ngForOf"],[1,"tarjeta-recompensa"],[1,"seccion-encabezado-tarjeta"],["class","overlay-gradiente",4,"ngIf"],["class","contenedor-icono-recompensa",4,"ngIf"],[1,"insignia-puntos"],[1,"icono-puntos","bi","bi-star-fill"],[1,"valor-puntos"],[1,"seccion-cuerpo-tarjeta"],[1,"nombre-recompensa"],[1,"descripcion-recompensa"],[1,"seccion-pie-tarjeta"],[1,"info-stock"],[1,"etiqueta-stock"],[1,"insignia-stock",3,"ngClass"],[1,"punto-stock"],[1,"acciones-tarjeta"],["title","Editar",1,"btn-accion","btn-editar",3,"click"],[1,"bi","bi-pencil-fill"],["title","Eliminar",1,"btn-accion","btn-eliminar",3,"click"],[1,"bi","bi-trash-fill"],[1,"overlay-gradiente"],[1,"contenedor-icono-recompensa"],[1,"icono-recompensa","bi","bi-gift-fill"],[1,"estado-vacio"],[1,"icono-vacio"],[1,"bi","bi-gift"],[1,"superposicion-modal",3,"click"],[1,"contenedor-modal",3,"click"],[1,"encabezado-modal"],[1,"titulo-modal"],[1,"icono-modal",3,"ngClass"],[1,"btn-cerrar-modal",3,"click"],[1,"bi","bi-x-lg"],[1,"cuerpo-modal"],[1,"grupo-formulario"],[1,"etiqueta-formulario"],[1,"texto-etiqueta"],[1,"contenedor-upload-imagen"],["class","preview-imagen",4,"ngIf"],["class","area-upload",4,"ngIf"],["class","error-imagen",4,"ngIf"],["class","loading-upload",4,"ngIf"],[1,"etiqueta-requerido"],["type","text","placeholder","Ej: Entrada al cine","required","",1,"input-formulario",3,"ngModelChange","ngModel"],["rows","3","placeholder","Describe la recompensa...",1,"textarea-formulario",3,"ngModelChange","ngModel"],[1,"fila-formulario"],[1,"input-con-icono"],[1,"icono-input","bi","bi-star-fill"],["type","number","min","1","placeholder","100","required","",1,"input-formulario",3,"ngModelChange","ngModel"],[1,"icono-input","bi","bi-box2-fill"],["type","number","min","0","placeholder","50","required","",1,"input-formulario",3,"ngModelChange","ngModel"],[1,"seccion-vista-previa"],[1,"tarjeta-vista-previa"],["class","overlay-gradiente-preview",4,"ngIf"],[1,"contenido-vista-previa-relativo"],[1,"encabezado-vista-previa"],["class","icono-vista-previa bi bi-gift",4,"ngIf"],[1,"puntos-vista-previa"],[1,"nombre-vista-previa"],[1,"descripcion-vista-previa"],[1,"stock-vista-previa"],[1,"pie-modal"],[1,"btn","btn-secundario",3,"click"],[1,"btn","btn-primario",3,"click","disabled"],[1,"btn-icono",3,"ngClass"],[1,"preview-imagen"],["alt","Preview",3,"src"],["type","button",1,"btn-eliminar-preview",3,"click"],[1,"bi","bi-x-circle-fill"],[1,"area-upload"],["type","file","id","fileInputRecompensa","accept","image/*",2,"display","none",3,"change"],["for","fileInputRecompensa",1,"label-upload"],[1,"bi","bi-cloud-upload-fill","icono-upload"],[1,"texto-upload"],[1,"texto-upload-small"],[1,"error-imagen"],[1,"bi","bi-exclamation-triangle-fill"],[1,"loading-upload"],[1,"spinner-upload"],[1,"overlay-gradiente-preview"],[1,"icono-vista-previa","bi","bi-gift"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"i",4),c(5," Gesti\xF3n de Recompensas "),o(),n(6,"p",5),c(7,"Administra el cat\xE1logo de recompensas canjeables"),o()(),n(8,"div",6)(9,"button",7),v("click",function(){return s.abrirModal()}),l(10,"i",8),c(11," Nueva Recompensa "),o()()(),n(12,"div",9)(13,"div",10),l(14,"i",11),n(15,"input",12),M("ngModelChange",function(d){return h(s.terminoBusqueda,d)||(s.terminoBusqueda=d),d}),v("ngModelChange",function(){return s.filtrarRecompensas()}),o()()(),_(16,G,4,0,"div",13)(17,K,2,1,"div",14)(18,Q,10,0,"div",15)(19,oe,73,23,"div",16),o()),e&2&&(r(15),C("ngModel",s.terminoBusqueda),r(),m("ngIf",s.cargando),r(),m("ngIf",!s.cargando),r(),m("ngIf",!s.cargando&&s.recompensasFiltradas.length===0),r(),m("ngIf",s.mostrarModal))},dependencies:[L,I,z,j,W,V,T,q,N,F,A],styles:['.encabezado-pagina[_ngcontent-%COMP%], .btn-secundario[_ngcontent-%COMP%], .btn-secundario[_ngcontent-%COMP%]:hover, .seccion-filtros[_ngcontent-%COMP%], .contenedor-busqueda[_ngcontent-%COMP%], .contenedor-busqueda[_ngcontent-%COMP%]:focus-within, .input-busqueda[_ngcontent-%COMP%], .contenedor-carga[_ngcontent-%COMP%], .spinner[_ngcontent-%COMP%], .tarjeta-recompensa[_ngcontent-%COMP%], .insignia-puntos[_ngcontent-%COMP%], .seccion-pie-tarjeta[_ngcontent-%COMP%], .insignia-stock[_ngcontent-%COMP%], .btn-accion[_ngcontent-%COMP%], .btn-accion[_ngcontent-%COMP%]:hover, .btn-editar[_ngcontent-%COMP%]:hover, .btn-eliminar[_ngcontent-%COMP%]:hover, .estado-vacio[_ngcontent-%COMP%], .contenedor-modal[_ngcontent-%COMP%], .encabezado-modal[_ngcontent-%COMP%], .btn-cerrar-modal[_ngcontent-%COMP%], .btn-cerrar-modal[_ngcontent-%COMP%]:hover, .input-formulario[_ngcontent-%COMP%], .textarea-formulario[_ngcontent-%COMP%], .input-formulario[_ngcontent-%COMP%]:focus, .textarea-formulario[_ngcontent-%COMP%]:focus, .seccion-vista-previa[_ngcontent-%COMP%], .tarjeta-vista-previa[_ngcontent-%COMP%], .puntos-vista-previa[_ngcontent-%COMP%], .pie-modal[_ngcontent-%COMP%], .area-upload[_ngcontent-%COMP%], .area-upload[_ngcontent-%COMP%]:hover, .error-imagen[_ngcontent-%COMP%], .loading-upload[_ngcontent-%COMP%], .seccion-encabezado-tarjeta[_ngcontent-%COMP%], .contenedor-icono-recompensa[_ngcontent-%COMP%]{transition:background-color .2s ease-in-out,color .2s ease-in-out,border-color .2s ease-in-out}.contenedor-pagina[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.encabezado-pagina[_ngcontent-%COMP%]{background:var(--color-tarjeta);border-radius:16px;padding:2rem;margin-bottom:1.5rem;box-shadow:0 1px 3px #00000014;display:flex;justify-content:space-between;align-items:center;gap:2rem}.encabezado-izquierda[_ngcontent-%COMP%]{flex:1}.titulo-pagina[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;color:var(--color-texto-principal);margin:0 0 .5rem;display:flex;align-items:center;gap:.75rem}.icono-titulo[_ngcontent-%COMP%]{font-size:2.25rem;color:var(--color-texto-principal)}.subtitulo-pagina[_ngcontent-%COMP%]{font-size:1rem;color:var(--color-texto-secundario);margin:0}.acciones-encabezado[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:10px;font-weight:600;font-size:.875rem;cursor:pointer;border:none;display:inline-flex;align-items:center;gap:.5rem}.btn-primario[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff;box-shadow:0 4px 12px #8b5cf64d}.btn-primario[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #8b5cf666}.btn-secundario[_ngcontent-%COMP%]{background:var(--color-fondo-hover);color:var(--color-texto-secundario)}.btn-secundario[_ngcontent-%COMP%]:hover{background:var(--color-borde)}.btn-icono[_ngcontent-%COMP%]{font-size:1rem}.seccion-filtros[_ngcontent-%COMP%]{background:var(--color-tarjeta);border-radius:16px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 1px 3px #00000014}.contenedor-busqueda[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;background:var(--color-fondo-input);padding:.875rem 1.25rem;border-radius:12px;border:2px solid transparent}.contenedor-busqueda[_ngcontent-%COMP%]:focus-within{background:var(--color-tarjeta);border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a}.icono-busqueda[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-texto-secundario)}.input-busqueda[_ngcontent-%COMP%]{border:none;background:transparent;outline:none;font-size:.875rem;width:100%;color:var(--color-texto-principal)}.input-busqueda[_ngcontent-%COMP%]::placeholder{color:var(--color-texto-secundario)}.contenedor-carga[_ngcontent-%COMP%]{background:var(--color-tarjeta);border-radius:16px;padding:4rem 2rem;text-align:center;box-shadow:0 1px 3px #00000014}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid var(--color-borde);border-top-color:#8b5cf6;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.contenedor-carga[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-texto-secundario);font-size:.875rem;margin:0}.cuadricula-recompensas[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}.tarjeta-recompensa[_ngcontent-%COMP%]{background:var(--color-tarjeta);border-radius:16px;padding:1.75rem;box-shadow:0 1px 3px #00000014;border:2px solid transparent;position:relative;overflow:hidden}.tarjeta-recompensa[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#8b5cf6,#7c3aed)}.tarjeta-recompensa[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 24px #8b5cf626;border-color:var(--color-secondary-borde-sutil)}.seccion-encabezado-tarjeta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.25rem;position:relative;background-size:cover;background-position:center}.contenedor-icono-recompensa[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:16px;background:var(--color-secondary-sutil);color:var(--color-secondary-sutil-texto);display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px #8b5cf640}.icono-recompensa[_ngcontent-%COMP%]{font-size:2rem}.insignia-puntos[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem 1rem;background:var(--color-warning-sutil);color:var(--color-warning-sutil-texto);border-radius:12px;font-weight:700;font-size:1.125rem;box-shadow:0 4px 8px #fbbf2433}.icono-puntos[_ngcontent-%COMP%]{font-size:1.25rem}.seccion-cuerpo-tarjeta[_ngcontent-%COMP%]{margin-bottom:1.25rem}.nombre-recompensa[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--color-texto-principal);margin:0 0 .75rem;line-height:1.3}.descripcion-recompensa[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-texto-secundario);line-height:1.6;margin:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:2.8em}.seccion-pie-tarjeta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:1rem;border-top:2px solid var(--color-borde-divisor)}.info-stock[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem}.etiqueta-stock[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-texto-secundario);font-weight:600;text-transform:uppercase;letter-spacing:.05em}.insignia-stock[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;border-radius:8px;font-size:.8125rem;font-weight:600}.punto-stock[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%}.stock-ok[_ngcontent-%COMP%]{background:var(--color-success-sutil);color:var(--color-success-sutil-texto)}.stock-ok[_ngcontent-%COMP%]   .punto-stock[_ngcontent-%COMP%]{background:var(--success)}.stock-bajo[_ngcontent-%COMP%]{background:var(--color-warning-sutil);color:var(--color-warning-sutil-texto)}.stock-bajo[_ngcontent-%COMP%]   .punto-stock[_ngcontent-%COMP%]{background:var(--warning)}.stock-agotado[_ngcontent-%COMP%]{background:var(--color-danger-sutil);color:var(--color-danger-sutil-texto)}.stock-agotado[_ngcontent-%COMP%]   .punto-stock[_ngcontent-%COMP%]{background:var(--danger)}.acciones-tarjeta[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-accion[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;background:var(--color-fondo-input);border:none;cursor:pointer;font-size:1.125rem;display:flex;align-items:center;justify-content:center;color:var(--color-texto-secundario)}.btn-accion[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.btn-editar[_ngcontent-%COMP%]:hover{background:var(--color-acento-sutil);color:var(--color-acento-sutil-texto)}.btn-eliminar[_ngcontent-%COMP%]:hover{background:var(--color-danger-sutil);color:var(--color-danger-sutil-texto)}.estado-vacio[_ngcontent-%COMP%]{background:var(--color-tarjeta);border-radius:16px;padding:4rem 2rem;text-align:center;box-shadow:0 1px 3px #00000014}.icono-vacio[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.5;color:var(--color-texto-secundario)}.estado-vacio[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--color-texto-principal);margin:0 0 .5rem}.estado-vacio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-texto-secundario);font-size:.875rem;margin:0 0 1.5rem}.superposicion-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem;overflow-y:auto}.contenedor-modal[_ngcontent-%COMP%]{background:var(--color-tarjeta);border-radius:20px;width:100%;max-width:600px;box-shadow:0 20px 25px -5px #0000001a;animation:_ngcontent-%COMP%_modalSlideIn .3s ease-out;max-height:90vh;display:flex;flex-direction:column}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.encabezado-modal[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-bottom:2px solid var(--color-borde-divisor);display:flex;justify-content:space-between;align-items:center}.titulo-modal[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--color-texto-principal);margin:0;display:flex;align-items:center;gap:.75rem}.icono-modal[_ngcontent-%COMP%]{font-size:1.75rem;color:var(--secondary)}.btn-cerrar-modal[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;background:var(--color-fondo-hover);border:none;cursor:pointer;font-size:1.25rem;color:var(--color-texto-secundario);display:flex;align-items:center;justify-content:center}.btn-cerrar-modal[_ngcontent-%COMP%]:hover{background:var(--color-borde);color:var(--color-texto-principal);transform:scale(1.05)}.cuerpo-modal[_ngcontent-%COMP%]{padding:2rem;overflow-y:auto;flex:1}.grupo-formulario[_ngcontent-%COMP%]{margin-bottom:1.5rem}.fila-formulario[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.etiqueta-formulario[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;margin-bottom:.5rem;font-weight:600;color:var(--color-texto-etiqueta);font-size:.875rem}.etiqueta-requerido[_ngcontent-%COMP%]{color:var(--danger)}.input-formulario[_ngcontent-%COMP%], .textarea-formulario[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--color-borde);border-radius:10px;font-size:.875rem;font-family:inherit;background-color:var(--color-fondo);color:var(--color-texto-principal)}.input-formulario[_ngcontent-%COMP%]:focus, .textarea-formulario[_ngcontent-%COMP%]:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px #8b5cf61a;background-color:var(--color-tarjeta)}.textarea-formulario[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.input-con-icono[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.icono-input[_ngcontent-%COMP%]{position:absolute;left:1rem;font-size:1.125rem;pointer-events:none;color:var(--color-texto-secundario)}.input-con-icono[_ngcontent-%COMP%]   .input-formulario[_ngcontent-%COMP%]{padding-left:3rem}.seccion-vista-previa[_ngcontent-%COMP%]{margin-top:2rem;padding-top:2rem;border-top:2px solid var(--color-borde-divisor)}.tarjeta-vista-previa[_ngcontent-%COMP%]{background:var(--color-secondary-sutil);border:2px solid var(--color-secondary-borde-sutil);border-radius:12px;padding:1.5rem}.encabezado-vista-previa[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.icono-vista-previa[_ngcontent-%COMP%]{font-size:2rem;color:var(--color-secondary-sutil-texto)}.puntos-vista-previa[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.375rem .875rem;background:var(--color-tarjeta);border-radius:8px;font-weight:700;color:var(--color-secondary-sutil-texto)}.nombre-vista-previa[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:var(--color-texto-principal);margin:0 0 .5rem}.descripcion-vista-previa[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-texto-secundario);margin:0 0 1rem;line-height:1.6}.stock-vista-previa[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--color-secondary-sutil-texto);font-weight:600}.pie-modal[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-top:2px solid var(--color-borde-divisor);display:flex;justify-content:flex-end;gap:1rem}.contenedor-upload-imagen[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.preview-imagen[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;margin:0 auto;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px #0000001a}.preview-imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;object-fit:cover;display:block}.btn-eliminar-preview[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;background:#ef4444f2;color:#fff;border:none;width:36px;height:36px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.25rem;transition:all .2s;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.btn-eliminar-preview[_ngcontent-%COMP%]:hover{background:#dc2626f2;transform:scale(1.1)}.area-upload[_ngcontent-%COMP%]{border:2px dashed var(--color-borde);border-radius:12px;padding:3rem 2rem;text-align:center;background:var(--color-fondo-input)}.area-upload[_ngcontent-%COMP%]:hover{border-color:var(--secondary);background:var(--color-secondary-sutil)}.label-upload[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:.75rem}.icono-upload[_ngcontent-%COMP%]{font-size:3rem;color:var(--secondary)}.texto-upload[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--color-texto-principal)}.texto-upload-small[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-texto-secundario)}.error-imagen[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;background:var(--color-danger-sutil);color:var(--color-danger-sutil-texto);border-radius:8px;display:flex;align-items:center;gap:.5rem;font-size:.875rem}.loading-upload[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:var(--color-secondary-sutil);border-radius:8px;display:flex;align-items:center;justify-content:center;gap:.75rem;font-size:.875rem;color:var(--color-secondary-sutil-texto);font-weight:500}.spinner-upload[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid var(--color-secondary-borde-sutil);border-top-color:var(--secondary);border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}.seccion-encabezado-tarjeta.con-imagen[_ngcontent-%COMP%]{height:150px;border-radius:12px;overflow:hidden;align-items:flex-start;padding:1rem}.seccion-encabezado-tarjeta[_ngcontent-%COMP%]   .overlay-gradiente[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0000004d,#000000b3);z-index:1}.seccion-encabezado-tarjeta.con-imagen[_ngcontent-%COMP%]   .insignia-puntos[_ngcontent-%COMP%]{position:relative;z-index:2;margin-left:auto;background:#fffffff2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.tarjeta-vista-previa.con-imagen-preview[_ngcontent-%COMP%]{background-size:cover;background-position:center;color:#fff;position:relative;overflow:hidden}.overlay-gradiente-preview[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0003,#000c);z-index:1}.contenido-vista-previa-relativo[_ngcontent-%COMP%]{position:relative;z-index:2}.tarjeta-vista-previa.con-imagen-preview[_ngcontent-%COMP%]   .nombre-vista-previa[_ngcontent-%COMP%], .tarjeta-vista-previa.con-imagen-preview[_ngcontent-%COMP%]   .descripcion-vista-previa[_ngcontent-%COMP%], .tarjeta-vista-previa.con-imagen-preview[_ngcontent-%COMP%]   .stock-vista-previa[_ngcontent-%COMP%]{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5)}.tarjeta-vista-previa.con-imagen-preview[_ngcontent-%COMP%]   .icono-vista-previa[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.contenedor-pagina[_ngcontent-%COMP%]{padding:1rem}.encabezado-pagina[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.titulo-pagina[_ngcontent-%COMP%]{font-size:1.5rem}.cuadricula-recompensas[_ngcontent-%COMP%], .fila-formulario[_ngcontent-%COMP%]{grid-template-columns:1fr}.contenedor-modal[_ngcontent-%COMP%]{max-height:95vh}.cuerpo-modal[_ngcontent-%COMP%]{padding:1.5rem}}']})};export{U as RecompensasListComponent};
